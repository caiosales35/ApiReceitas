<!DOCTYPE html>
<html lang="pt-br">
    <head charset=”UTF-8”>
        <title>Testes  de rotas</title>
        <%= csrf_meta_tags %>
        <%= csp_meta_tag %>

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    </head>

    <body>
        <script>
            function listRecipesById(){
                var id = document.getElementById("userIdRecipes").value;
                var form = document.getElementById("formListarReceitasId");
                form.action = "api/v1/recipes/user/" + id;
                form.submit();
            }

            function showRecipe(){
                var id = document.getElementById("idReceita").value;
                var form = document.getElementById("formShow");
                form.action = "api/v1/recipes/" + id;
                form.submit();
            }
        </script>

        <div class="container pt-4 pb-4">
            
            <div class="jumbotron">
                <h1>Testes - API de Receitas</h1>
                <p>
                    Nesta pagina você encontra alguns formularios para submeter e receber a respectiva resposta da API.
                </p>
            </div>

            <div class="row">
                <div class="col-12 col-sm-6">
                    <form method="post" id="formLogin" action="api/v1/login" >
                        <h3>Rota de Login</h3>
                        <div class="mb-3">
                            <label for="loginEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="loginEmail" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="loginPassword" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="loginPassword" name="password" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Login!</button>
                    </form>
                </div>
                <div class="col-12 col-sm-6">
                    <form method="post" id="formCadastro" action="api/v1/users">
                        <h3>Rota de Cadastro de Usuario</h3>
                        <div class="mb-3">
                            <label for="cadastroEmail" class="form-label">Email</label>
                            <input type="email" class="form-control" id="loginEmail" name="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="cadastroPassword" class="form-label">Senha</label>
                            <input type="password" class="form-control" id="cadastroPassword" name="password" required>
                        </div>
                        <div class="mb-3">
                            <label for="cadastroPasswordConfirmation" class="form-label">Confirmação de Senha</label>
                            <input type="password" class="form-control" id="cadastroPasswordConfirmation" name="password_confirmation" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Cadastrar!</button>
                    </form>
                </div>
            </div>

            <hr>

            <div class="row mt-4">
                <div class="col-12 col-sm-6">
                    <form method="get" id="formListarReceitas" action="api/v1/recipes/users" >
                        <h3>Rota para Listar Todas as Receitas</h3>
                        <button type="submit" class="btn btn-success mt-3">Listar Receitas</button>
                    </form>
                </div>
                <div class="col-12 col-sm-6">
                    <form id="formListarReceitasId">
                        <h3>Rota para Listar Receitas de um Usuario</h3>
                        <div class="mb-3">
                            <label for="userIdRecipes" class="form-label">Id do Usuario</label>
                            <input type="number" class="form-control" id="userIdRecipes" required min="0" value="0">
                        </div>
                        <button onclick="listRecipesById();" class="btn btn-success mt-3">Listar Receitas</button>
                    </form>
                </div>
            </div>
            
            <hr>

            <div class="row mt-4"
                <div class="col-12 col-sm-6">
                    <form id="formShow">
                        <h3>Rota para Detalhes uma Receitas</h3>
                        <div class="mb-3">
                            <label for="idReceita" class="form-label">Id da Receita</label>
                            <input type="number" class="form-control" id="idReceita" required min="0" value="0">
                        </div>
                        <button onclick="showRecipe();" class="btn btn-warning mt-3">Detalhes da Receita</button>
                    </form>
                </div>
            </div>
            
        </div>
        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
    </body>
</html>